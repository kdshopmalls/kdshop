<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{admin/layouts/ad_layout}">

	<th:block layout:fragment="script">
		<script src="/ckeditor/ckeditor.js"></script>
	</th:block>

	<th:block layout:fragment="content">
	      
	  <div class="container mt-5">
		<div class="row">
			<div class="col">
				<div class="card card-primary">
					<div class="card-header">
					  <h3 class="card-title">상품 목록</h3>
					</div>
					<!-- /.card-header -->
					<!-- list start -->
					<div class="card-body">
						<!-- search form start -->
					<form action="/admin/product/pro_list" method="get">
					 <div class="row">
					 	<div class="col-2">검색어</div>	
						<div class="col-3">												
							<select name="searchType" class="form-control">
								<option selected>검색종류 선택</option>
								<option value="n">상품명</option>
								<option value="c">상품코드</option>
								<option value="p">제조사</option>
								<option value="np">상품명 or 제조사</option>
							</select>								
						</div>					
						<div class="col-7">
							<input type="text" name="keyword" class="form-control" placeholder="Enter ...">
						</div>
					 </div>											
				
				<div class="row mt-3">
					<div class="col-2">카테고리</div>
					<div class="col-5">
						<div class="form-group">
							<select class="form-control" name="cate_prt_code" id="btn_firstCategory">
							  <option>1차 분류</option>						  
							  <option th:each="category : ${cate_list}" th:value="${category.cate_code}" th:text="${category.cate_name}">option 2</option>							  
							</select>							
						</div>
					</div>
					<div class="col-5">
						<div class="form-group">
							<select class="form-control" name="cate_code" id="btn_secondCategory">
								<option>2차 분류</option>	
							</select>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-2">날짜</div>
					<div class="col-2">
						<div class="form-group">
							<select class="form-control">
								<option>등록일</option>
								<option>수정일</option>	
							</select>							
						</div>
					</div>
					<div class="col-3">
						<input type="date" id="start_date">
						<input type="date" id="end_date">
					</div>
					<div class="col-5">
						<button type="button" class="btn btn-sm btn-outline-info">오늘</button>
						<button type="button" class="btn btn-sm btn-outline-info">3일간</button>
						<button type="button" class="btn btn-sm btn-outline-info">일주일</button>
						<button type="button" class="btn btn-sm btn-outline-info">1개월</button>
						<button type="button" class="btn btn-sm btn-outline-info">3개월</button>
						<button type="button" class="btn btn-sm btn-outline-info">전체</button>
					</div>
				</div>
				<div class="row">
					<div class="col text-center">
						<button type="submit" class="btn btn-primary">검색</button>
						<button type="button" class="btn btn-outline-primary">초기화</button>
					</div>
				</div>
			</form>
				<div class="row mt-4">
					<div class="col">
						<button type="button" class="btn btn-outline-danger" id="btn_sel_delete_1">선택삭제1(ajax)</button>
						<button type="button" class="btn btn-outline-danger" id="btn_sel_delete_2">선택삭제2(form)</button>
						
					</div>
				</div>	
				<div class="row mt-2">
					<div class="col">
					 <form name="frm_pro_list" id="frm_pro_list" method="post" action="/admin/product/pro_sel_delete_2">
						<table class="table table-bordered">
						  <thead>
							<tr>
							  <th style="width: 5%">
								<input type="checkbox" id="checkAll">
							  </th>
							  <th style="width: 5%;">상품코드</th>
							  <th style="width: 40%;">상품정보</th>
							  <th style="width: 10%">판매가</th>
							  <th style="width: 10%">재고량</th>
							  <th style="width: 10%">등록일</th>
							  <th style="width: 10%">관리</th>
							</tr>
						  </thead>
						  <tbody>
							<tr th:each= "productDTO:${pro_list}">
							  <td>
								<input type="checkbox" name="check" th:value="${productDTO.item_num}">
								<input type="hidden" name="item_up_folder" th:value="${productDTO.item_up_folder}">
								<input type="hidden" name="item_img" th:value="|s_${productDTO.item_img}|">
							  </td>
							  <td>[[${productDTO.item_num}]]</td>
							  <td>
							  	[[${productDTO.item_name}]]<br>
							  	<img style="width: 100px;height: 100px;" th:src="${'/admin/product/image_display?dateFolderName=' + productDTO.item_up_folder + '&fileName=s_' + productDTO.item_img}">
							  </td>
							  <td>[[${#numbers.formatInteger(productDTO.item_price, 3, 'COMMA') + '원'}]]</td>
							  <td>[[${productDTO.item_discount}]]</td>
							  <td>
								[[${#dates.format(productDTO.item_date, 'yyyy-MM-dd HH:mm:ss')}]]
							  </td>
							  <td>
								<button type="button" class="btn btn-block btn-sm btn-outline-primary" th:data-pro_num="${productDTO.item_num}" name="btn_pro_edit">EDIT</button>
								<button type="button" class="btn btn-block btn-sm btn-outline-primary" th:data-pro_num="${productDTO.item_num}" name="btn_pro_del">DELETE</button>
							  </td>
							</tr>
							
						  </tbody>
						</table>
					</form>

				</div>
	
			</div>	 
			</div>
				<div class="card-footer clearfix">
						<nav aria-label="Page navigation example">
							<ul class="pagination">
							<!-- 이전표시여부 Previous  pageMaker.getPrev() -->
							<th:block th:if="${pageMaker.prev}">
								<li class="page-item"><a class="page-link" th:href="|/admin/product/pro_list${pageMaker.makeSearch(pageMaker.startPage - 1)}|">Previous</a></li>
							</th:block>
								<!--  페이지번호 출력.  1  2  3  4  5 -->
								<th:block th:each="num : ${#numbers.sequence(pageMaker.startPage, pageMaker.endPage)}">
								<li class="page-item" th:classappend="${pageMaker.cri.page == num ? 'active' : ''}">
									<a class="page-link" th:href="|/admin/product/pro_list${pageMaker.makeSearch(num)}|" th:text="${num}"></a>
								</li>        
								</th:block>
							
							<!--  다음표시여부 Next -->
							<th:block th:if="${pageMaker.next}">
								<li class="page-item"><a class="page-link" th:href="|/admin/product/pro_list${pageMaker.makeSearch(pageMaker.endPage + 1)}|">Next</a></li>
							</th:block>
							</ul>
						</nav>
					</div>
	
				 </div>
			</div>
		</div>
	  </div>

	    
	</th:block>

</html>